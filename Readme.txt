# Project README

This project includes scripts for generating FIPS codes for a list of addresses and calculating the distance and ADI (Area Deprivation Index) for those addresses. Below are the necessary steps and requirements to run these scripts successfully.

Input File Requirements

For the generate_FIPS.py Script:
1. Data Excel File: This file should contain at least one column named 'Address'. This column is case-sensitive and is used by the script to geocode addresses and generate FIPS codes.

For the distance_and_ADI.py Script:
1. Data Excel File: After running the generate_FIPS.py script, your data file should contain the following columns:
   - Address: Used for calculating distances. Addresses recognized as PO Boxes are excluded from distance and ADI calculations.
   - FIPS: The 12-digit Federal Information Processing Standards code generated by the generate_FIPS.py script. This code is essential for looking up ADI ranks.

Necessary Software and Libraries

- Python 3.10 or later
- Libraries: pandas, geopandas, googlemaps, re, os

Other Necessary Files and Keys

- Google Maps API key
- ADI lookup CSV file - included in box, but can also be downloaded from https://www.neighborhoodatlas.medicine.wisc.edu/
- Census block group shapefiles for each state included in the data set, available from the Census Bureau: https://www.census.gov/cgi-bin/geo/shapefiles/index.php?year=2023&layergroup=Block+Groups

Steps

1. Create a Google Account and Generate an API Key for Google Maps:
   - Follow Google's documentation to create an API key for accessing the Google Maps services.

2. Prepare the Census Block Group Shapefiles:
   - Download the shapefiles for each state you're interested in from the provided Census Bureau link.
   - Place each state's folder from the website into the parent folder along with generate_FIPS.py and Distance_and_ADI.py.

3. Prepare the Data Excel File:
   - Place the data Excel file in the parent folder. Ensure that there is an 'Address' column (case sensitive).

4. Update and Run generate_FIPS.py:
   - Update the file paths and API key in the generate_FIPS.py script.
   - For the folders section, place the file path to each folder for each state.
   - Run the script. The output file will be addresses_with_fips.xlsx.

5. Prepare the Data File for Distance and ADI Calculation:
   - Copy the FIPS codes from the output file (addresses_with_fips.xlsx) to the data Excel file in a column named 'FIPS' (case sensitive). Make sure to paste and keep the original formatting. Save the file.

6. Update and Run distance_and_ADI.py:
   - Update the file paths and API key in the Distance_and_ADI.py script. Place the ADI lookup table in the parent folder. You need 12 digit FIPS codes for this part as the lookup table from WISC uses 12 digit FIPS (state, county, tract, block group)
   - Run the script. The final output file will be Updated_with_distance_ADI.xlsx.

Additional Notes

- Ensure all file paths and API keys are correctly updated in the scripts before running them.
- For detailed instructions on generating a Google Maps API key and enabling the necessary API services, refer to Google's official documentation.

â€” Andrew Tran, MD
